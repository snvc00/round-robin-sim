(this["webpackJsonpudg-i7030"]=this["webpackJsonpudg-i7030"]||[]).push([[0],{35:function(e,t,i){},36:function(e,t,i){},38:function(e,t,i){},41:function(e,t,i){"use strict";i.r(t);var n,r,c=i(0),a=i(23),s=i.n(a),o=i(43),l=i(42),u=(i(35),i(6)),h=i(16),d=i(4),m=i(50),j=i(29),b=(i(36),i(2)),f=function(e){var t=e.children;return Object(b.jsx)("h1",{className:"title",children:t})},O=(i(38),i(47)),p=i(48),x=i(49),v=i(44),T=i(45),g=i(9),y=i(10),S=i(46),k=function(e){var t=e.children,i=e.title,n=e.icon;return Object(b.jsxs)(y.a,{boxShadow:"out",marginBottom:"10px",children:[Object(b.jsx)(S.a,{active:!0,icon:n,title:i,width:"100%",children:Object(b.jsx)(S.a.OptionsBox,{children:Object(b.jsx)(S.a.Option,{children:"X"})})}),Object(b.jsx)("div",{style:{minHeight:200,padding:10},children:t})]})},w=i(18),E=i(19),M=function(){function e(t){Object(w.a)(this,e),this.id=t,this.maxTime=Math.floor(10*Math.random())+6,this.executionTime=0,this.operator=["+","-","*","/","%","^"][Math.floor(6*Math.random())],this.firstOperand=Math.floor(100*Math.random()),this.secondOperand=Math.floor(100*Math.random())+1,this.error=!1,this.timeToUnblock=0,this.arrivalTime=-1,this.startTime=-1,this.endTime=void 0,this.quantum=0,this.size=Math.floor(20*Math.random()+6),this.memoryAddress=null}return Object(E.a)(e,[{key:"operation",get:function(){return"".concat(this.firstOperand," ").concat(this.operator," ").concat(this.secondOperand)}},{key:"result",get:function(){return!0===this.error?"ERROR":this.evaluate()}},{key:"throwError",value:function(){this.error=!0}},{key:"block",value:function(){this.timeToUnblock=7}},{key:"update",value:function(){this.timeToUnblock>0?--this.timeToUnblock:(++this.executionTime,++this.quantum)}},{key:"isTerminated",value:function(){return!0===this.error||this.maxTime===this.executionTime}},{key:"evaluate",value:function(){switch(this.operator){case"+":return this.firstOperand+this.secondOperand;case"-":return this.firstOperand-this.secondOperand;case"*":return this.firstOperand*this.secondOperand;case"/":return this.firstOperand/this.secondOperand;case"%":return this.firstOperand%this.secondOperand;case"^":return Math.pow(this.firstOperand,this.secondOperand);default:return"UNDEFINED"}}},{key:"resetQuantum",value:function(){this.quantum=0}},{key:"toString",value:function(){return"Process ".concat(this.id,": ").concat(this.firstOperand," ").concat(this.operator," ").concat(this.secondOperand," = ").concat(this.result," took ").concat(this.executionTime," seconds")}},{key:"log",value:function(){return"** PID ".concat(this.id,", ").concat(this.error?"ERROR":"NORMAL"," **\n\n            Estimated Time: ").concat(this.maxTime,"\n            Arrival Time: ").concat(this.arrivalTime,"\n            End Time: ").concat(this.endTime,"\n            Standby Time: ").concat(this.endTime-this.arrivalTime-this.executionTime,"\n            Service Time: ").concat(this.executionTime,"\n            Return Time: ").concat(this.endTime-this.arrivalTime,"\n            Response Time: ").concat(this.startTime-this.arrivalTime,"\n\n************")}},{key:"partialLog",value:function(e){var t,i;i=void 0!==this.endTime?this.endTime-this.arrivalTime-this.executionTime:-1!==this.arrivalTime?e-this.arrivalTime-this.executionTime:"-";var n="** PID ".concat(this.id,", ").concat(this.error?"ERROR":"NORMAL"," **\n");return n+="\tEstimated Time: ".concat(this.maxTime,"\n"),n+="\tArrival Time: ".concat(-1!==this.arrivalTime?this.arrivalTime:"-","\n"),n+="\tEnd Time: ".concat(null!==(t=this.endTime)&&void 0!==t?t:"-","\n"),n+="\tStandby Time: ".concat(i,"\n"),n+="\tService Time: ".concat(-1!==this.arrivalTime?this.executionTime:"-","\n"),n+="\tReturn Time: ".concat(this.endTime?this.endTime-this.arrivalTime:"-","\n"),n+="\tRemaining Time on CPU: ".concat(-1!==this.startTime?this.maxTime-this.executionTime:"-","\n"),n+="\tResponse Time: ".concat(-1!==this.startTime&&-1!==this.arrivalTime?this.startTime-this.arrivalTime:"-","\n"),n}}]),e}(),R={e:{description:"I/O interruption"},w:{description:"Error in process"},p:{description:"Pause"},c:{description:"Continue"},n:{description:"New process"},b:{description:"Process table"},t:{description:"Memory visualization"}},A=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=null!==t&&void 0!==t?t:0,n=[],r=0;r<e;++r)n.push(new M(i++));return n},D=i(28),B=function(){function e(){Object(w.a)(this,e),this.memory=new Array(40);for(var t=0;t<38;t++)this.memory[t]={freeSpace:5,allocatedBy:null};this.memory[38]={freeSpace:0,allocatedBy:"OS"},this.memory[39]={freeSpace:0,allocatedBy:"OS"}}return Object(E.a)(e,[{key:"getCopy",value:function(){return Object(D.a)(this.memory)}},{key:"alloc",value:function(e){if(!(e instanceof M))return!1;var t=Math.ceil(e.size/5),i=[];if(this.memory.forEach((function(e,t){5===e.freeSpace&&i.push(t)})),i.length<t)return!1;e.memoryAddress=i[0];for(var n=e.size,r=0;n>0;){var c=Math.min(5,n);this.memory[i[r]].freeSpace-=c,this.memory[i[r]].allocatedBy=e.id,n-=c,r++}return!0}},{key:"dealloc",value:function(e){if(!(e instanceof M)||null===e.memoryAddress)return!1;for(var t=Math.ceil(e.size/5),i=0;i<t;i++)this.memory[e.memoryAddress+i].allocatedBy=null,this.memory[e.memoryAddress+i].freeSpace=5;return e.memoryAddress=null,!0}}]),e}(),P=d.e.div(n||(n=Object(h.a)(["\n  margin: auto;\n  padding: 10px;\n  display: block;\n  width: 60%;\n"]))),I=function(e){var t=e.totalProcesses,i=e.processingDone,n=e.quantum,r=Object(c.useState)(0),a=Object(u.a)(r,2),s=a[0],o=a[1],l=Object(c.useState)(""),h=Object(u.a)(l,2),d=h[0],m=h[1],f=Object(c.useState)(new B),y=Object(u.a)(f,2),S=y[0],w=y[1],E=Object(c.useState)([]),D=Object(u.a)(E,2),I=D[0],L=D[1],N=Object(c.useState)([]),C=Object(u.a)(N,2),_=C[0],q=C[1],z=Object(c.useState)(),U=Object(u.a)(z,2),F=U[0],G=U[1],Q=Object(c.useState)([]),J=Object(u.a)(Q,2),H=J[0],X=J[1],K=Object(c.useState)([]),V=Object(u.a)(K,2),W=V[0],Y=V[1],Z=Object(c.useState)(!1),$=Object(u.a)(Z,2),ee=$[0],te=$[1],ie=Object(c.useState)(!0),ne=Object(u.a)(ie,2),re=ne[0],ce=ne[1],ae=Object(c.useState)(new Date),se=Object(u.a)(ae,2),oe=se[0],le=se[1],ue=Object(c.useState)(!1),he=Object(u.a)(ue,2),de=he[0],me=he[1],je=Object(c.useState)(new Date),be=Object(u.a)(je,2),fe=be[0],Oe=be[1],pe=Object(c.useState)(null),xe=Object(u.a)(pe,2),ve=xe[0],Te=xe[1],ge=Object(c.useState)(t),ye=Object(u.a)(ge,2),Se=ye[0],ke=ye[1];onkeydown=function(e){var t=e.key;t=t.toLowerCase();var i=!1,n=new Date;if(le(n),n-oe<1e3)m(d+"[".concat(n.toLocaleTimeString(),", Global Time: ").concat(s," seconds] - Actions are limited to 1 per second\n"));else if(null===R||void 0===R?void 0:R[t]){switch(t){case"e":if(!1===ee&&F instanceof M){F.block(),F.resetQuantum(),H.push(F);var r=_.shift();r instanceof M?(-1===r.startTime&&(r.startTime=s),G(r)):G(null),i=!0}break;case"w":!1===ee&&F instanceof M&&(F.throwError(),i=!0);break;case"p":case"t":!1===ee&&(te(!0),i=!0);break;case"c":!0===ee&&(te(!1),i=!0);break;case"n":if(!1===ee){var c=A(1,Se)[0];ke(Se+1),S.alloc(c)?(c.arrivalTime=s,_.push(c)):I.push(c),i=!0}break;case"b":!1===ee&&(te(!0),we());break;default:console.log("Not implemented action triggered with ".concat(t))}!0===i&&m(d+"[".concat((new Date).toLocaleTimeString(),", Global Time: ").concat(s," seconds] - ").concat(R[t].description,"\n"))}};var we=function(){var e=d+"[".concat((new Date).toLocaleTimeString(),", Global Time: ").concat(s," seconds] - ").concat(R.b.description,"\n");I.forEach((function(t){e+=t.partialLog(s)+"\tStatus: New\n************\n"})),_.forEach((function(t){e+=t.partialLog(s)+"\tStatus: Ready\n************\n"})),F instanceof M&&(e+=F.partialLog(s)+"\tStatus: In Execution\n************\n"),W.forEach((function(t){e+=t.partialLog(s)+"\tStatus: Terminated\n************\n"})),m(e)};Object(c.useEffect)((function(){var e=A(t),i=[],n=e.shift();for(n.arrivalTime=0,n.startTime=0,S.alloc(n);e.length>0;){var r=e.shift();if(!S.alloc(r)){e.unshift(r);break}r.arrivalTime=0,i.push(r)}L(e),G(n),q(i)}),[t]);return Object(c.useEffect)((function(){var e=setInterval((function(){ee||o((function(e){return e+1}))}),1e3);return function(){return clearInterval(e)}}),[ee]),Object(c.useEffect)((function(){var e=new Date;if(!(e-fe<900)){if(Oe(e),0===I.length&&0===_.length&&0===H.length&&null===F)return ce(!1),null===ve&&Te(s),void w(new B);if(!1===re&&!1===de){var t="[".concat((new Date).toLocaleTimeString(),", Global Time: ").concat(s," seconds] - All process terminated, generating report...\n--------------------\n");W.forEach((function(e){t+=e.log()+"\n"})),m(d+(t+="--------------------\n")),me(!0),G(null)}if(!1===ee&&!0===re)if(function(){var e=0;H.forEach((function(t){0===t.timeToUnblock?++e:t.update()}));for(var t=0;t<e;++t)_.push(H.shift())}(),F instanceof M)if(F.isTerminated()){if(F.endTime=s-1,S.dealloc(F),W.push(F),I.length>0){var i=I.shift();S.alloc(i)?(-1===i.arrivalTime&&(i.arrivalTime=s),_.push(i)):I.unshift(i)}var r=_.shift();r instanceof M?(-1===r.startTime&&(r.startTime=s),G(r)):0===H.length?(ce(!1),null===ve&&Te(s)):G(null)}else{if(F.quantum===n){F.resetQuantum();var c=_.shift();return void(c instanceof M&&(-1===c.startTime&&(c.startTime=s),_.push(F),G(c)))}0===F.timeToUnblock&&F.update()}else if(_.length>0){var a=_.shift();-1===a.startTime&&(a.startTime=s),G(a)}}}),[de,o,s,te,ee,re,F,W,I,_,H,X,Y]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(P,{children:[Object(b.jsxs)("div",{style:{textAlign:"center"},children:[Object(b.jsxs)("h1",{children:["New processes: ",I.length]}),Object(b.jsxs)("h2",{children:["Quantum: ",n]}),re||null===ve?Object(b.jsxs)("h2",{children:["Global Time: ",s," seconds"]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("h2",{children:["Global Time: ",ve," seconds"]}),Object(b.jsx)(j.a,{onClick:i,children:"Return"})]})]}),Object(b.jsx)("br",{}),Object(b.jsx)(k,{title:"ready - Process Simulation",icon:Object(b.jsx)(g.c,{variant:"32x32_4"}),children:_.map((function(e,t){return Object(b.jsx)(O.a,{legend:"PID ".concat(e.id),style:{width:"90%",textAlign:"left",marginBottom:10},children:Object(b.jsxs)("p",{children:["Estimated execution time: ",e.maxTime," seconds - Ellapsed time: ",e.executionTime," seconds - Size: ",e.size,"MB"]},t+"_p")},t)}))}),Object(b.jsx)(k,{title:"execution - Process Simulation",icon:Object(b.jsx)(g.b,{variant:"32x32_4"}),children:F instanceof M?Object(b.jsxs)(O.a,{legend:"PID ".concat(F.id),className:"process-fieldset",children:[Object(b.jsxs)("p",{children:["Operation: ",F.operation]}),Object(b.jsxs)("p",{children:["Estimated execution time: ",F.maxTime," seconds"]}),Object(b.jsxs)("p",{children:["Ellapsed time: ",F.executionTime," seconds"]}),Object(b.jsxs)("p",{children:["Missing time: ",F.maxTime-F.executionTime," seconds"]}),Object(b.jsxs)("p",{children:["Quantum: ",F.quantum]}),Object(b.jsxs)("p",{children:["Size: ",F.size,"MB"]}),Object(b.jsx)(p.a,{width:200,percent:Math.round(F.executionTime/F.maxTime*100)})]}):Object(b.jsx)(b.Fragment,{})}),Object(b.jsx)(k,{title:"blocked - Process Simulation",icon:Object(b.jsx)(g.i,{variant:"32x32_4"}),children:Array.isArray(H)?H.map((function(e,t){return Object(b.jsx)(O.a,{legend:"PID ".concat(e.id),style:{width:"90%",textAlign:"left",marginBottom:10},children:Object(b.jsxs)("p",{children:["Estimated execution time: ",e.maxTime," seconds - Blocked time: ",7-e.timeToUnblock," seconds"]},t+"_p")},t)})):Object(b.jsx)(b.Fragment,{})}),Object(b.jsx)(k,{title:"terminated - Process Simulation",icon:Object(b.jsx)(g.g,{variant:"32x32_4"}),children:Array.isArray(W)?W.map((function(e){return Object(b.jsx)(O.a,{legend:"PID ".concat(e.id),className:"process-fieldset",children:Object(b.jsxs)("p",{children:[e.operation," = ",e.result]},e.id+"_p")},e.id)})):Object(b.jsx)(b.Fragment,{})}),Object(b.jsxs)(k,{title:"logs.txt - Notepad",icon:Object(b.jsx)(g.f,{variant:"32x32_4"}),children:[Object(b.jsx)(x.a,{readOnly:!0,value:d,style:{width:"100%",height:200}}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)(j.a,{onClick:function(){m("")},children:"Clear logs"})]}),function(){var e=S.getCopy();return e.forEach((function(e){e.color=function(e){if(null===e)return"transparent";if("OS"===e)return"black";if(F instanceof M&&e===F.id)return"red";for(var t=0;t<_.length;t++)if(e===_[t].id)return"blue";for(var i=0;i<H.length;i++)if(e===H[i].id)return"purple"}(e.allocatedBy)})),Object(b.jsx)(k,{title:"main.memory - Memory",icon:Object(b.jsx)(g.e,{variant:"32x32_4"}),children:Object(b.jsxs)("table",{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"# Frame"}),Object(b.jsx)("th",{children:"Memory"})]})}),Object(b.jsx)("tbody",{children:e.map((function(e,t){var i;return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{align:"center",children:t}),Object(b.jsxs)("td",{style:{color:e.color},children:[null!==(i=e.allocatedBy)&&void 0!==i?i:""," ","\u25ae".repeat(5-e.freeSpace)]})]},t)}))})]})})}(),Object(b.jsx)("br",{})]}),Object(b.jsx)(v.a,{list:Object(b.jsx)(T.a,{children:Object(b.jsx)(T.a.Item,{icon:Object(b.jsx)(g.h,{variant:"32x32_4"}),onClick:function(){ce(!1),i()},children:"Empty and Restart"},"reset")})})]})},L=d.e.form(r||(r=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n"])));var N=function(){var e=Object(c.useState)(0),t=Object(u.a)(e,2),i=t[0],n=t[1],r=Object(c.useState)(0),a=Object(u.a)(r,2),s=a[0],o=a[1],l=Object(c.useState)(!1),h=Object(u.a)(l,2),d=h[0],O=h[1];return!1===d?Object(b.jsxs)(L,{onSubmit:function(e){e.preventDefault(),O(!0)},children:[Object(b.jsx)(f,{children:"Round Robin"}),Object(b.jsx)(m.a,{placeholder:"# of processes",style:{marginBottom:10},type:"number",min:"1",onChange:function(e){var t=e.target;return n(t.value)},required:!0}),Object(b.jsx)("br",{}),Object(b.jsx)(m.a,{placeholder:"Quantum",style:{marginBottom:10},type:"number",min:"1",onChange:function(e){var t=e.target;return o(t.value)},required:!0}),Object(b.jsx)("br",{}),Object(b.jsx)(j.a,{children:"Start"})]}):Object(b.jsx)(I,{totalProcesses:parseInt(i),processingDone:function(){O(!1)},quantum:parseInt(s)})};s.a.render(Object(b.jsxs)(o.a,{children:[Object(b.jsx)(l.a,{}),Object(b.jsx)(N,{})]}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.cc9b05e5.chunk.js.map